{% extends 'admin/society/_layout.twig' %}

{% block title %}Edit Election{% endblock %}

{% block main %}
  <div class="box content">
    <div class="heading">
      <h5>Edit Election for {{ election.year }}</h5>
      <div class="heading-right">
        <a href="{{ path('admin_society_election_view', { decade: election.decade }) }}" class="button"><i class="fas fa-chevron-left"></i>Back to Election List</a>
      </div>
    </div>
    {% if election.open %}
      <p>Election data cannot be edited while the election is open.</p>
    {% else %}
      <p>When creating a new election, you need only specify the year. This should be <em>the first year of the relevant term of office</em>, rather than the present year; typically this will be the year <em>after</em> the present year.</p>
      <p>The votes for each election are counted automatically while it is running, and the population set when the election is closed. Now that it is closed, you can modify them here manually if you need.</p>
      {{ form_start(electionForm) }}
        {{ form_row(electionForm.year) }}
        <div class="columns">
          <div class="column">
            {{ form_row(electionForm.votes) }}
          </div>
          <div class="column">
            {{ form_row(electionForm.population) }}
          </div>
        </div>
        {{ form_row(electionForm._token) }}
        <div class="buttons">
          <button type="submit">Update</button>
        </div>
      {{ form_end(electionForm) }}
    {% endif %}
  </div>
{% endblock %}
